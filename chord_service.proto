syntax = "proto3";

package chordService;

service Chord {
	rpc find_successor(FindSuccessorRequest) returns (FindSuccessorResponse) {}
	rpc get_predecessor(GetPredecessorRequest) returns (GetPredecessorResponse) {}
	rpc notify(NotifyRequest) returns (NotifyResponse) {}

}

message FindSuccessorRequest {
	int32 id = 1;
	int32 pathlen = 2;
}

message FindSuccessorResponse {
	int32 successorId = 1;
	int32 pathlen = 2;
	string addr = 3;
}

message GetPredecessorRequest {

}

message GetPredecessorResponse {
	int32 id = 1;
	string addr = 2;
}

message NotifyRequest {
    int32 predecessorId = 1;
    string addr = 2;
}

message NotifyResponse {
    int32 result = 1;
}

